# PHP Textmaster API

[![Build Status](https://travis-ci.com/cdaguerre/php-textmaster-api.svg?token=4dDhVzWiZtpfbs4qv8Fs&branch=master)](https://travis-ci.com/cdaguerre/php-textmaster-api) [![Scrutinizer Code Quality](https://scrutinizer-ci.com/g/cdaguerre/php-textmaster-api/badges/quality-score.png?b=master&s=1235dc20e89c2f666102eccdd73143c5ebebc215)](https://scrutinizer-ci.com/g/cdaguerre/php-textmaster-api/?branch=master) [![Code Coverage](https://scrutinizer-ci.com/g/cdaguerre/php-textmaster-api/badges/coverage.png?b=master&s=7db4bcbdc4a4be122157f92433745a895c1ec26d)](https://scrutinizer-ci.com/g/cdaguerre/php-textmaster-api/?branch=master)

A simple Object Oriented wrapper for Textmaster API, written with PHP5.

Uses [Textmaster API v1](https://www.textmaster.com/documentation). The object API is very similar to the RESTful API.

## Features

* Follows PSR-0 conventions and coding standard: autoload friendly
* Light and fast thanks to lazy loading of API classes
* Extensively tested and documented

## Requirements

* PHP >= 5.3.2 with [cURL](http://php.net/manual/en/book.curl.php) extension,
* [Guzzle](https://textmaster.com/guzzle/guzzle) library,
* (optional) PHPUnit to run tests.

## Autoload

The new version of `php-textmaster-api` using [Composer](http://getcomposer.org).
The first step to use `php-textmaster-api` is to download composer:

```bash
$ curl -s http://getcomposer.org/installer | php
```

Then we have to install our dependencies using:
```bash
$ php composer.phar install
```
Now we can use autoloader from Composer by:

```json
{
    "require": {
        "cdaguerre/php-textmaster-api": "~1.4"
    }
}
```

> `php-textmaster-api` follows the PSR-4 convention names for its classes, which means you can easily integrate `php-textmaster-api` classes loading in your own autoloader.

## Using Laravel?

[Laravel Textmaster](https://textmaster.com/GrahamCampbell/Laravel-Textmaster) by [Graham Campbell](https://textmaster.com/GrahamCampbell) might interest you.

## Basic usage of `php-textmaster-api` client

```php
<?php

// This file is generated by Composer
require_once 'vendor/autoload.php';

$client = new \Textmaster\Client();
$repositories = $client->api('user')->repositories('ornicar');
```

From `$client` object, you can access to all Textmaster.

## Cache usage

```php
<?php

// This file is generated by Composer
require_once 'vendor/autoload.php';

$client = new \Textmaster\Client(
    new \Textmaster\HttpClient\CachedHttpClient(array('cache_dir' => '/tmp/textmaster-api-cache'))
);

// Or select directly which cache you want to use
$client = new \Textmaster\HttpClient\CachedHttpClient();
$client->setCache(
    // Built in one, or any cache implementing this interface:
    // Textmaster\HttpClient\Cache\CacheInterface
    new \Textmaster\HttpClient\Cache\FilesystemCache('/tmp/textmaster-api-cache')
);

$client = new \Textmaster\Client($client);
```

Using cache, the client will get cached responses if resources haven't changed since last time,
**without** reaching the `X-Rate-Limit` [imposed by textmaster](http://developer.textmaster.com/v3/#rate-limiting).


## Documentation

See the [`doc` directory](doc/) for more detailed documentation.

## License

`php-textmaster-api` is licensed under the MIT License - see the LICENSE file for details

## Credits

Thanks to Textmaster for the high quality API and documentation.
